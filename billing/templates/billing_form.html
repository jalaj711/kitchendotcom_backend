{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kitchendotcom | Billing</title>
  <!-- bootstrap CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous" />
  <!-- custom css -->
  <link rel="stylesheet" href="{%static "common/css/style.css"%}">
  {% comment %} fontawesom {% endcomment %}
    <script src="https://kit.fontawesome.com/fecc50ad8e.js" crossorigin="anonymous"></script>
  <style>

    body {
      background-color: rgba(0, 102, 101, 0.93);
    }

    .cell {
      padding: 0.5rem;
      margin: 0.5rem;
      background-color: #fff;
      border: 1px solid rgba(0,0,0,.125);
      border-radius: .25rem;
    }
    

    #item-area{
      counter-reset: rowNumber;
    }
    #item-area>tr>th::before{
      counter-increment: rowNumber;
      content: counter(rowNumber);
    }
    #decorators {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    overflow: hidden;
    z-index: -1;
}

#decorators img {
    position: absolute;
    height: 20vh;
}

#decorators .top-left {
    top: 0;
    left: 0;
    height: 60vh;
    transform: translate(-50%, -50%);
}

#decorators .top-right {
    top: 0;
    right: 0;
}

#decorators .bottom-left {
    bottom: 0;
    left: 0;
    rotate: -90deg;
}

#decorators .bottom-right {
    bottom: 0;
    right: 0;
    rotate: 90deg;
}
  </style>
</head>

<body>

  <h1 class="text-white ms-4 mt-5 mb-2">Billing utility</h1>

  <form method="POST" class="page-cont d-flex flex-column container-fluid">
    {% csrf_token %}
    {% comment %} section one {% endcomment %}
    <section class="row bg-white my-4 shadow mx-3">
      <div class="col">
        {% comment %} ra creators {% endcomment %}
        <div class="row">
          <div class="col-12 p-0">
            <div class="cell">
              <!-- name -->
              <p class="fw-bold">
                <label for="franch_name">Name : </label>
                <input type="text" value="SAHU IRON FACTORY" name="franch_name" id="franch_name">
              </p>
              <!-- address -->
              <p>
                <label for="franch_address">Address</label>
                <textarea type="text" rows="1" name="franch_address" id="franch_address">D65/245,Lahartara,VARANASI</textarea>
              </p>
              <div class="row g-0">
                <label for="franch_gst"  class="col">GSTIN/UIN</label>
                <div class="col">
                  <input type="text" pattern="[0-9a-zA-Z]{15}" value="09ADXPG7259B1Z5" name="franch_gst" id="franch_gst">
                </div>
              </div>
              <div class="row g-0">
                <label for="franch_state" class="col">State Name</label>
                <div class="col"> 
                <input type="text" value="Uttar Pradesh" name="franch_state" id="franch_state">
                </div>
              </div>
                 <div class="row g-0">
                <label for="franch_mail" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" class="col">Mail :</label>
                <div class="col">
                  <input type="email" name="franch_mail" id="franch_mail" value="info@kitchendotcom.in">
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </section>
        
    <section class="row bg-white my-4 shadow mx-3">
      <div class="col">
        <div class="row">
          {% comment %} ship to {% endcomment %}
          <div class="col-md p-0">
            <div class="cell">
              <div class="row g-0">
                <p>Consignee (Ship to)</p>
              </div>
              <!-- name -->
              <p class="fw-bold">
                <label for="ship_name">Name : </label>
                <input type="text" name="ship_name" id="ship_name">
              </p>
              <!-- address -->
              <p>
                <label for="ship_address">Address</label>
                <textarea type="text" name="ship_address" id="ship_address" rows="1" > </textarea>
              </p>
              <div class="row g-0">
                <label for="ship_gst" class="col">GSTIN/UIN</label>
                <div class="col">
                  <input type="text" pattern="[0-9a-zA-Z]{15}" name="ship_gst" id="ship_gst">
                </div>
              </div>
              <div class="row g-0">
                <label for="ship_state" class="col">State Name</label>
                <div class="col"> <input type="text" name="ship_state" id="ship_state">
                </div>
              </div>

            </div>
          </div>
          {% comment %} bill to {% endcomment %}
          <div class="col-md p-0">
            <div class="cell">
              <div class="row g-0">
                <p>Buyer (Bill to)</p>
              </div>
              <!-- name -->
              <p class="fw-bold">
                <label for="bill_name">Name : </label>
                <input type="text" name="bill_name" id="bill_name">
              </p>
              <!-- address -->
              <p>
                <label for="bill_address">Address</label>
                <textarea type="text" name="bill_address" id="bill_address" rows="1" > </textarea>
              </p>
              <div class="row g-0">
                <label for="bill_gst" class="col">GSTIN/UIN</label>
                <div class="col">
                  <input type="text" pattern="[0-9a-zA-Z]{15}" name="bill_gst" id="bill_gst">
                </div>
              </div>
              <div class="row g-0">
                <label for="bill_state" class="col">State Name</label>
                <div class="col"> <input type="text" name="bill_state" id="bill_state">
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>  

    <section class="row bg-white my-4 shadow mx-3 g-5 p-3">
      <div class="col m-1">
        <label for="invoice_no">Invoice No.</label>
        <input type="text" name="invoice_no" id="invoice_no">
      </div>
      <div class="col m-1">
        <label for="date">Dated </label>
        <input type="text" name="date" id="date">
      </div>             
      <div class="col m-1">
        <label for="delivery_note">Delivery Note</label>
        <input type="text" name="delivery_note" id="delivery_note">
      </div>
      <div class="col m-1">
        <label for="payment_mode">Mode/Terms of Payment</label>
        <input type="text" name="payment_mode" id="payment_mode">
      </div>        
      <div class="col m-1">
        <label for="ref_no">Reference No. & Date.</label>
        <input type="text" name="ref_no" id="ref_no">
      </div>
      <div class="col m-1">
        <label for="other_ref">Other References</label>
        <input type="text" name="other_ref" id="other_ref">
      </div>       
      <div class="col m-1">
        <label for="buy_ord_no">Buyer's order no</label>
        <input type="text" name="buy_ord_no" id="buy_ord_no">
      </div>
      <div class="col m-1">
        <label for="buy_dated">Dated</label>
        <input type="text" name="buy_dated" id="buy_dated">
      </div>        
      <div class="col m-1">
        <label for="dispatch_date">Dispatch Doc No</label>
        <input type="text" name="dispatch_date" id="dispatch_date">
      </div>
      <div class="col m-1">
        <label for="delivery_date">Delivery Note Date</label>
        <input type="text" name="delivery_date" id="delivery_date">
      </div>
      <div class="col m-1">
        <label for="dispatch_through">Dispatched through</label>
        <input type="text" name="dispatch_through" id="dispatch_through">
      </div>
      <div class="col m-1">
        <label for="destination">Destination</label>
        <input type="text" name="destination" id="destination">
      </div>
      <div class="col m-1">
        <label for="delivery_terms">Terms of delivery</label>
        <textarea type="text" name="delivery_terms" id="delivery_terms"></textarea>
	  </div>
    </section>

    {% comment %} table section {% endcomment %}
    <section class="row bg-white my-4 shadow mx-3 border border-dark">
      <div class="row text-end">
        <div class="col text-end">
          <button class="btn styled-btn m-2" id="add-item" >Add item</button>
        </div>
      </div>
      <table class="table table-hover">
        <thead>
          <tr>  
            <th scope="col">SI No.</th>
            <th scope="col">Description of Service</th>
            <th scope="col">HSN/SAC</th>
            <th scope="col">Quantity</th>
            <th scope="col">Rate</th>
          </tr>
        </thead>
        <tbody id="item-area" >
          <!-- <tr>
            <th scope="row"></th>
            <td>
              <input class="form-control" type="text" placeholder="Item Name" name="item" id="item">
            </td>
            <td>
              <input class="form-control" type="text" placeholder="HSN Code" name="hsn" id="hsn">
            </td>
            <td>
              <input class="form-control" type="digit" value="0" placeholder="Quantity" name="quantity" id="quantity">
            </td>
            <td>
              <input class="form-control" type="digit" value="0" placeholder="rate" name="rate" id="rate">
            </td>
            <td>
              <input class="form-control" type="hidden" value="1" placeholder="per" name="per" id="per">
            </td>
            <td>
              <button class="btn">
                <i onclick="deleteRow(event);" class="text-danger fas fa-trash"></i>
              </button>
            </td>
          </tr> -->
        </tbody>
      </table>
    </section>

      <!-- footer -->
    <section class="row bg-white my-4 shadow mx-3 mt-auto">
      <div class="col">
        <div class="row g-0">
          <p>Remarks :</p>
          <p>
            <textarea name="remarks" id="remarks" rows="1"></textarea>
          </p>
        </div>
        <div class="row g-0">
          <p class="fw-undrline">Declaration</p>
          <p>
            We declare that this invoice shows the actual price of the goods
            described and that all particulars are true and correct.
          </p>
        </div>
      </div>
      <div class="col d-flex flex-column justify-content-end">
        <div class="row">
          <div class="col-auto"><p class="row g-0 fw-bold">for</p></div>
          <div class="col-auto"> <input type="text" name="for" id="for"> </div>
        </div>
        <div class="row">
          <p class="row g-0 mt-auto">Authorised Signatory</p>
        </div>
      </div>
    </section>

      <div class="row text-center p-2 m-2">
        <div class="col text-center">
          <button class="btn styled-btn">Submit</button>
        </div>
      </div>
  </form>

  <section id="decorators">
    <img class="top-left" src="/static/assets/img/Doodle%20Dots.svg" alt="BWP Plywood">
  </section>
  
  <script>
    const itemArea = document.getElementById("item-area")
    const addItem = document.getElementById("add-item")
    const newRowContent = `
            <th scope="row"></th>
            <td>
              <input class="form-control" type="text" placeholder="Item Name" name="item" id="item">
            </td>
            <td>
              <input class="form-control" type="text" placeholder="HSN Code" name="hsn" id="hsn">
            </td>
            <td>
              <input class="form-control" type="digit" value="0" placeholder="Quantity" name="quantity" id="quantity">
            </td>
            <td>
              <input class="form-control" type="digit" value="0" placeholder="rate" name="rate" id="rate">
            </td>
            <td>
              <input class="form-control" type="hidden" value="1" placeholder="per" name="per" id="per">
            </td>
            <td>
              <i onclick="deleteRow(event);" class="text-danger btn fas fa-trash"></i>
            </td>
    `
    addItem.addEventListener('click', (e)=> addRow(e) )
    addRow()
    function addRow(e){
      e.preventDefault();
      console.log('clicked')
      let newRow = itemArea.insertRow()
      newRow.innerHTML = newRowContent
      // itemArea.append(newRow)
    }

    function deleteRow(e){
      e.preventDefault()
      console.log(e.target, e.target.parentElement.parentElement)
      e.target.parentElement.parentElement.remove()
    }
	  
  </script>
</body>

</html>